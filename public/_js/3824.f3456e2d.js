"use strict";(globalThis["webpackChunkcom_lagia_app"]=globalThis["webpackChunkcom_lagia_app"]||[]).push([[3824],{43666:(e,t,a)=>{a.d(t,{A:()=>w});var o=a(99523);const r=e=>((0,o.pushScopeId)("data-v-68b34e0f"),e=e(),(0,o.popScopeId)(),e),l={class:"absolute-top-right bg-transparent"},i=r((()=>(0,o.createElementVNode)("div",{class:"absolute-full flex flex-center text-white"},"Cannot load image",-1)));function n(e,t,a,r,n,c){const s=(0,o.resolveComponent)("isModalDescription"),d=(0,o.resolveComponent)("q-btn"),m=(0,o.resolveComponent)("q-item-label"),u=(0,o.resolveComponent)("q-img"),p=(0,o.resolveComponent)("q-item-section"),h=(0,o.resolveComponent)("q-item"),g=(0,o.resolveComponent)("q-card-section"),_=(0,o.resolveComponent)("q-separator"),N=(0,o.resolveComponent)("q-rating"),V=(0,o.resolveComponent)("isQItemLabelSimpleValue"),b=(0,o.resolveComponent)("q-card"),y=(0,o.resolveDirective)("ripple");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(s,{ref:"isModal"},null,512),(0,o.createVNode)(b,{flat:"",bordered:"",square:e.$q.screen.width<=1024,class:(0,o.normalizeClass)([e.$q.screen.width>768?"rounded-borders-2":""])},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{horizontal:e.$q.screen.width>768,class:"row q-pa-none"},{default:(0,o.withCtx)((()=>[a.item?.image&&a.item?.image.length>0?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,loading:"lazy",ratio:16/9,class:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12",src:a.item?.image[0],"error-src":e.$defaultErrorImage},{error:(0,o.withCtx)((()=>[i])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(d,{size:"16px",rounded:"",dense:"",color:"white","text-color":"primary",icon:"fullscreen",onClick:t[0]||(t[0]=e=>r.showMultiple(a.item?.image,0))})]),(0,o.createVNode)(m,{class:"absolute-bottom text-center",header:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("VENDOR")])),_:1})])),_:1},8,["src","error-src"])):((0,o.openBlock)(),(0,o.createBlock)(u,{key:1,loading:"lazy",ratio:16/9,class:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12",src:e.$defaultErrorImage},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{class:"absolute-bottom text-center",header:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("VENDOR")])),_:1})])),_:1},8,["src"])),(0,o.createVNode)(b,{flat:"",class:"full-width"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{class:"q-pa-none row"},{default:(0,o.withCtx)((()=>[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(h,{clickable:"",class:"col-auto",to:{name:"/tour/store-detail",params:{slug:a.item?.id,slug_text:a.item?.name}}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{class:"text-h6"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(a.item?.name),1)])),_:1})])),_:1})])),_:1},8,["to"])),[[y]])])),_:1}),(0,o.createVNode)(_),(0,o.createVNode)(g,{class:"q-px-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{dense:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{lines:"1"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Rating")])),_:1})])),_:1}),(0,o.createVNode)(p,{side:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{lines:"1"},{default:(0,o.withCtx)((()=>[a.item?.ratingAvg?.avgRating?((0,o.openBlock)(),(0,o.createBlock)(N,{key:0,readonly:"",modelValue:a.item.ratingAvg.avgRating,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.ratingAvg.avgRating=e),size:"xs",max:5,color:"red"},null,8,["modelValue"])):((0,o.openBlock)(),(0,o.createBlock)(N,{key:1,readonly:"",modelValue:r.ratingZero,"onUpdate:modelValue":t[2]||(t[2]=e=>r.ratingZero=e),size:"xs",max:5,color:"red"},null,8,["modelValue"]))])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(V,{label:"Kota",value:a.item?.city},null,8,["value"]),(0,o.createVNode)(V,{label:"Provinsi",value:a.item?.province},null,8,["value"]),(0,o.createVNode)(V,{label:"Negara",value:a.item?.country},null,8,["value"]),a.item?.policy?((0,o.openBlock)(),(0,o.createBlock)(V,{key:0,onOnBubbleEvent:t[3]||(t[3]=t=>e.$refs.isModal.onOpen({dialog_value:!0,dialog_payload:{value:a.item?.policy,label:"policy"}})),clickable:!0,label:"Kebijakan",value:"Detail",textcolor:"text-primary"})):(0,o.createCommentVNode)("",!0),a.item?.description?((0,o.openBlock)(),(0,o.createBlock)(V,{key:1,onOnBubbleEvent:t[4]||(t[4]=t=>e.$refs.isModal.onOpen({dialog_value:!0,dialog_payload:{value:a.item?.description,label:"description"}})),clickable:!0,label:"Deskripsi",value:"Detail",textcolor:"text-primary"})):(0,o.createCommentVNode)("",!0),a.item?.location?((0,o.openBlock)(),(0,o.createBlock)(V,{key:2,onOnBubbleEvent:t[5]||(t[5]=t=>e.$refs.isModal.onOpen({dialog_value:!0,dialog_payload:{value:a.item?.location,label:"location"}})),clickable:!0,label:"Lokasi",value:"Detail",textcolor:"text-primary"})):(0,o.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1},8,["horizontal"])])),_:1},8,["square","class"])],64)}var c=a(7848);const s={props:["item"],components:{},setup(){const e=(0,c.A)(),{showMultiple:t}=e,a=(0,o.ref)(null),r=(0,o.ref)(!1);return{showMultiple:t,expanded:(0,o.ref)(!1),ratingZero:0,dialog_payload:a,dialog_value:r}},methods:{badgeCondition(e){switch(e){case"public":return"pink";case"partner":return"positive";case"private":return"primary"}},getSplit(e){if(!e)return[];try{return e.split(",")}catch(t){return e}}}};var d=a(12807),m=a(23316),u=a(62669),p=a(13796),h=a(10386),g=a(44189),_=a(330),N=a(56384),V=a(90124),b=a(25173),y=a(61816),x=a(39626),v=a(98582),C=a.n(v);const f=(0,d.A)(s,[["render",n],["__scopeId","data-v-68b34e0f"]]),w=f;C()(s,"components",{QCard:m.A,QCardActions:u.A,QItemLabel:p.A,QSeparator:h.A,QCardSection:g.A,QImg:_.A,QBtn:N.A,QItem:V.A,QItemSection:b.A,QRating:y.A}),C()(s,"directives",{Ripple:x.A})},90352:(e,t,a)=>{a.r(t),a.d(t,{default:()=>at});var o=a(99523);const r=e=>((0,o.pushScopeId)("data-v-52a5b362"),e=e(),(0,o.popScopeId)(),e),l={class:"items-start q-gutter-md"},i=r((()=>(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",{class:"text-h6 bg-cyan text-white text-bold",colspan:"2"},"PESERTA")],-1))),n=r((()=>(0,o.createElementVNode)("td",null,"Peserta Dewasa",-1))),c={class:"text-h6"},s=r((()=>(0,o.createElementVNode)("td",null,"Peserta Anak (2-6 tahun)",-1))),d={class:"text-h6"},m=r((()=>(0,o.createElementVNode)("td",null,"Harga Dewasa",-1))),u={class:"text-h6"},p=r((()=>(0,o.createElementVNode)("td",null,"Harga Anak (2-6 tahun)",-1))),h={class:"text-h6"},g=r((()=>(0,o.createElementVNode)("td",null,"Subtotal Dewasa",-1))),_={class:"text-h6"},N=r((()=>(0,o.createElementVNode)("td",null,"Subtotal Anak (2-6 tahun)",-1))),V={class:"text-h6"},b={class:"text-bold"},y=r((()=>(0,o.createElementVNode)("td",null,"Subtotal Peserta Tour",-1))),x={class:"text-h6 text-bold"},v=r((()=>(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",{class:"text-h6 bg-cyan text-white text-bold",colspan:"2"},"HOTEL")],-1))),C={class:"text-body2 bg-orange-1",colspan:"2"},f=r((()=>(0,o.createElementVNode)("td",null,"Jenis Hotel",-1))),w={class:"text-capitalize"},k=r((()=>(0,o.createElementVNode)("td",null,"Harga Kamar Hotel (Terendah)",-1))),P=r((()=>(0,o.createElementVNode)("td",null,"Harga Kamar Hotel (Tertinggi)",-1))),E=r((()=>(0,o.createElementVNode)("td",null,"Harga Kamar Hotel (Rata-rata)",-1))),A=r((()=>(0,o.createElementVNode)("td",null,"Jumlah Kamar (Dipesan)",-1))),q={class:"text-capitalize"},S=r((()=>(0,o.createElementVNode)("td",null,"Budget Kamar (Dipesan)",-1))),B={class:"text-bold"},D=r((()=>(0,o.createElementVNode)("td",null,"Subtotal Anggaran Hotel",-1))),$={class:"text-h6 text-bold"},T=r((()=>(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",{class:"text-h6 bg-cyan text-white text-bold",colspan:"2"},"PEMBAYARAN")],-1))),H={class:"text-bold"},Q=r((()=>(0,o.createElementVNode)("td",null,"Full Payment 100% (Biaya Tour + Kamar Hotel)",-1))),R={class:""},I={class:"text-bold"},L=r((()=>(0,o.createElementVNode)("td",null,"Down Payment 30% (Biaya Tour + Kamar Hotel)",-1)));function M(e,t,a,r,M,z){const j=(0,o.resolveComponent)("q-item-label"),O=(0,o.resolveComponent)("q-item-section"),F=(0,o.resolveComponent)("q-item"),K=(0,o.resolveComponent)("q-card-section"),U=(0,o.resolveComponent)("q-separator"),Y=(0,o.resolveComponent)("isQItemLabelValue"),J=(0,o.resolveComponent)("q-list"),G=(0,o.resolveComponent)("FormTourSimulasi"),Z=(0,o.resolveComponent)("q-card"),W=(0,o.resolveComponent)("q-icon");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(Z,{class:"",flat:"",bordered:""},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"header",{},void 0,!0),(0,o.createVNode)(K,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{dense:"",class:"q-pa-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(O,{class:"q-mb-xs"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(j,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(a.item?.name),1)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(j,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(a.item?.createdAt),1)])),_:1})])),_:1}),(0,o.createVNode)(U),(0,o.createVNode)(K,{class:"row q-col-gutter-md"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(a.price_css)},[(0,o.createVNode)(O,{class:"bg-primary col-auto rounded-borders-1 q-pa-md col-12"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(j,{class:"text-white text-capitalize"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Harga Dewasa "+(0,o.toDisplayString)(a.item?.typePrice),1)])),_:1}),(0,o.createVNode)(j,{class:"text-h5"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(e.$finalPrice(a.item))),1)])),_:1})])),_:1})],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(a.price_css)},[(0,o.createVNode)(O,{class:"bg-primary col-auto rounded-borders-1 q-pa-md col-12"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(j,{class:"text-white text-capitalize"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Harga Anak (2-6 tahun) "+(0,o.toDisplayString)(a.item?.typePrice),1)])),_:1}),(0,o.createVNode)(j,{class:"text-h5"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(e.$finalPriceAnak(a.item))),1)])),_:1})])),_:1})],2)])),_:1}),(0,o.createVNode)(U),(0,o.createVNode)(K,{class:"custom q-pa-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(J,{class:"row flex items-start text-caption text-dark"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Y,{label:"HPP Dewasa",value:e.$currency(a.item?.generalPrice)},null,8,["value"]),(0,o.createVNode)(Y,{label:"HPP Anak (2-6 tahun)",value:e.$currency(a.item?.generalPriceChild)},null,8,["value"]),(0,o.createVNode)(Y,{label:"Diskon",value:e.$percent(a.item?.discountPrice)},null,8,["value"]),(0,o.createVNode)(Y,{label:"Cashback",value:e.$currency(a.item?.cashbackPrice)},null,8,["value"]),a.simulasi?((0,o.openBlock)(),(0,o.createBlock)(F,{key:0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(O,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(j,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Deskripsi Harga")])),_:1}),(0,o.createVNode)(j,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(a.item?.description),1)])),_:1})])),_:1})])),_:1})):(0,o.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,o.createVNode)(U),(0,o.createVNode)(K,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{date_sticky:a.date_sticky,ref:"form",item:a.item},null,8,["date_sticky","item"])])),_:1})])),_:3}),a.simulasi?((0,o.openBlock)(),(0,o.createBlock)(Z,{key:0,class:"q-mt-lg",flat:"",bordered:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(K,{class:"bg-grey-1"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(O,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(j,{class:"text-h6 text-weight-normal"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("RINCIAN BIAYA")])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(U),(0,o.createVNode)(K,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(J,null,{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("table",null,[i,(0,o.createElementVNode)("tr",null,[n,(0,o.createElementVNode)("td",c,(0,o.toDisplayString)(e.participant_adult),1)]),(0,o.createElementVNode)("tr",null,[s,(0,o.createElementVNode)("td",d,(0,o.toDisplayString)(e.participant_young?e.participant_young:0),1)]),(0,o.createElementVNode)("tr",null,[m,(0,o.createElementVNode)("td",u,(0,o.toDisplayString)(e.$currency(e.$finalPrice(a.item))),1)]),(0,o.createElementVNode)("tr",null,[p,(0,o.createElementVNode)("td",h,(0,o.toDisplayString)(e.$currency(e.$finalPriceAnak(a.item))),1)]),(0,o.createElementVNode)("tr",null,[g,(0,o.createElementVNode)("td",_,(0,o.toDisplayString)(e.$currency(z.subTotalDewasa)),1)]),(0,o.createElementVNode)("tr",null,[N,(0,o.createElementVNode)("td",V,(0,o.toDisplayString)(e.$currency(z.subTotalAnak)),1)]),(0,o.createElementVNode)("tr",b,[y,(0,o.createElementVNode)("td",x,(0,o.toDisplayString)(e.$currency(z.getTotalNonHotel)),1)]),v,(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",C,[(0,o.createVNode)(W,{name:"info"}),(0,o.createTextVNode)(" budget kamar bisa menyesuaikan kebutuhan Anda ")])]),(0,o.createElementVNode)("tr",null,[f,(0,o.createElementVNode)("td",w,(0,o.toDisplayString)(e.hotel),1)]),(0,o.createElementVNode)("tr",null,[k,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.$currency(z.getHotelPrice?.minPrice)),1)]),(0,o.createElementVNode)("tr",null,[P,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.$currency(z.getHotelPrice?.maxPrice)),1)]),(0,o.createElementVNode)("tr",null,[E,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.$currency(z.getHotelAVG)),1)]),(0,o.createElementVNode)("tr",null,[A,(0,o.createElementVNode)("td",q,(0,o.toDisplayString)(e.room_qty),1)]),(0,o.createElementVNode)("tr",null,[S,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.$currency(e.room_budget)),1)]),(0,o.createElementVNode)("tr",B,[D,(0,o.createElementVNode)("td",$,(0,o.toDisplayString)(e.$currency(z.grandTotalHotel)),1)]),T,(0,o.createElementVNode)("tr",H,[Q,(0,o.createElementVNode)("td",R,(0,o.toDisplayString)(e.$currency(z.grandTotal)),1)]),(0,o.createElementVNode)("tr",I,[L,(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.$currency(z.grandTotalDP)),1)])])])])),_:1})])),_:1})])),_:1})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(Z,{class:"q-mt-lg",flat:"",bordered:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(K,{class:"row q-col-gutter-md"},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"buttons",{},void 0,!0)])),_:3})])),_:3})])}var z=a(12150),j=a(16306),O=a.n(j);a(20989),a(94717);const F=(0,z.nY)("TourProductDetailStore",{id:"TourProductDetailStore",state:()=>({dataType:{},record:{},isMaintenance:!1,date_start:null,participant_adult:null,participant_young:null,description:null,hotel:"Pilih Hotel",dibayar:null,dibayar_percent:null,room_qty:null,room_budget:null,name:null,email:null,phone:null,instance:null,city:null,address:null,loading:!1,loading_store:!1}),getters:{getRecord:e=>e.record},actions:{async onFetch(e){if(this.loading_store)return!1;this.loading_store=!0;const t=await O()({url:"/trevolia-api/v1/entities/tour-products/read",method:"get",params:{slug:"tour-products",id:e}}).then((e=>e)).catch((e=>e));if(this.loading_store=!1,!t?.data)return this.loading_store=!1;try{t?.data?.data?.image&&(t.data.data["image"]=JSON.parse(t?.data?.data["image"]))}catch(a){t?.data?.data?.image&&(t.data.data["image"]=[t?.data?.data["image"]])}try{t?.data?.data?.tourStore?.image&&(t.data.data.tourStore["image"]=JSON.parse(t?.data?.data?.tourStore["image"]))}catch(a){t?.data?.data?.tourStore?.image&&(t.data.data.tourStore["image"]=[t?.data?.data?.tourStore["image"]])}return this.record=t?.data?.data,this.record}}}),K={class:"col-12"},U={class:"col-12"},Y={class:"col-12",id:"hotelRef"},J={key:1,class:"col-12"},G={key:2,class:"col-12"},Z=(0,o.createElementVNode)("br",null,null,-1),W={class:"text-capitalize"};function X(e,t,a,r,l,i){(0,o.resolveComponent)("q-date"),(0,o.resolveComponent)("q-field"),(0,o.resolveComponent)("q-btn"),(0,o.resolveComponent)("q-popup-proxy");const n=(0,o.resolveComponent)("q-icon"),c=(0,o.resolveComponent)("q-input"),s=(0,o.resolveComponent)("q-select");(0,o.resolveDirective)("close-popup");return(0,o.openBlock)(),(0,o.createElementBlock)("form",{class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-12 row q-col-gutter-md",id:"FormTour",onSubmit:t[11]||(t[11]=(0,o.withModifiers)(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent","stop"]))},[(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",K,[(0,o.createTextVNode)(" Berapa jumlah perserta Dewasa? (Min. "+(0,o.toDisplayString)(a.item?.minParticipant)+") ",1),(0,o.createVNode)(c,{onClear:i.onMinParticipantRule,clearable:"",dense:"",mask:"###","unmasked-value":"","bg-color":"white",outlined:"",color:"primary",ref:"dewasaRef",modelValue:e.participant_adult,"onUpdate:modelValue":t[5]||(t[5]=t=>e.participant_adult=t),placeholder:`Peserta Dewasa (min. ${a.item?.minParticipant})`,hint:`Peserta Dewasa (min. ${a.item?.minParticipant})`,"error-message":`Peserta Dewasa (min. ${a.item?.minParticipant}) (wajib)`,"lazy-rules":"",rules:[e=>!!e||"",i.minParticipantRule],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{name:"fa-solid fa-person"})])),_:1},8,["onClear","modelValue","placeholder","hint","error-message","rules"])]),(0,o.createElementVNode)("div",U,[(0,o.createTextVNode)(" Berapa jumlah perserta Peserta Anak (2-6 thn)? "),(0,o.createVNode)(c,{clearable:"",dense:"",mask:"###","bg-color":"white",outlined:"",color:"primary",ref:"youngRef",modelValue:e.participant_young,"onUpdate:modelValue":t[6]||(t[6]=t=>e.participant_young=t),placeholder:"0",hint:"Peserta Anak (2-6 thn)","error-message":"Peserta Anak (2-6 thn)"},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{name:"fa-solid fa-child-reaching"})])),_:1},8,["modelValue"])]),(0,o.createElementVNode)("div",Y,[(0,o.createTextVNode)(" Apa hotel yang ingin digunakan? "),(0,o.createVNode)(s,{onClear:t[7]||(t[7]=t=>e.hotel="Pilih Hotel"),clearable:"Pilih Hotel"!==e.hotel,"map-options":"","emit-value":"","option-label":"label","option-value":"value",options:r.options,dense:"","bg-color":"white",outlined:"",color:"primary",ref:"hotelRef",modelValue:e.hotel,"onUpdate:modelValue":t[8]||(t[8]=t=>e.hotel=t),placeholder:"Pilih Hotel",hint:"Pilih Hotel","error-message":"Pilih Hotel (wajib)",rules:[e=>!!e&&"Pilih Hotel"!==e||""]},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{name:"apartment"})])),_:1},8,["clearable","options","modelValue","rules"])]),"pilih hotel"!==e.hotel?.toLocaleLowerCase()&&"tanpa hotel"!==e.hotel?.toLocaleLowerCase()?((0,o.openBlock)(),(0,o.createElementBlock)("div",J,[(0,o.createTextVNode)(" Berapa kamar yang diinginkan? "),(0,o.createVNode)(c,{min:"1",max:"0",clearable:"",dense:"",mask:"###","bg-color":"white",outlined:"",color:"primary",ref:"roomRef",modelValue:e.room_qty,"onUpdate:modelValue":t[9]||(t[9]=t=>e.room_qty=t),placeholder:"0",hint:"Jumlah Kamar (min. 1)","error-message":"Jumlah Kamar (min. 1) (wajib)",rules:[e=>!!e||""]},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{name:"meeting_room"})])),_:1},8,["modelValue","rules"])])):(0,o.createCommentVNode)("",!0),"pilih hotel"!==e.hotel?.toLocaleLowerCase()&&"tanpa hotel"!==e.hotel?.toLocaleLowerCase()?((0,o.openBlock)(),(0,o.createElementBlock)("div",G,[(0,o.createTextVNode)(" Berapa budget kamar yang diinginkan? "),Z,(0,o.createElementVNode)("b",W,(0,o.toDisplayString)(e.hotel),1),(0,o.createTextVNode)(" - Harga "+(0,o.toDisplayString)(e.$currency(i.getHotelPrice?.minPrice))+" s/d "+(0,o.toDisplayString)(e.$currency(i.getHotelPrice?.maxPrice))+" ",1),(0,o.createVNode)(c,{clearable:"",dense:"",mask:"Rp. #############","unmasked-value":"","bg-color":"white",outlined:"",color:"primary",ref:"roomBudgetRef",modelValue:e.room_budget,"onUpdate:modelValue":t[10]||(t[10]=t=>e.room_budget=t),placeholder:"",hint:`Budget Kamar (wajib) di atas (min. ${e.$currency(i.getHotelPrice?.minPrice)})`,"error-message":`Budget Kamar (wajib) di atas (min. ${e.$currency(i.getHotelPrice?.minPrice)})`,rules:[e=>!!e||"",i.minPrice]},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(n,{name:"meeting_room"})])),_:1},8,["modelValue","hint","error-message","rules"])])):(0,o.createCommentVNode)("",!0)],32)}a(10239);var ee=a(56559),te=(a(54885),a(36246));const{addToDate:ae}=te.Ay,oe=ae(new Date,{days:3}),re=te.Ay.formatDate(oe,"YYYY/MM/DD"),le=[{label:"Tanpa Hotel",value:"tanpa hotel"},{label:"Hotel Bintang 1",value:"bintang 1"},{label:"Hotel Bintang 2",value:"bintang 2"},{label:"Hotel Bintang 3",value:"bintang 3"},{label:"Hotel Bintang 4",value:"bintang 4"},{label:"Hotel Bintang 5",value:"bintang 5"}],ie={props:["item","date_sticky"],data(){return{slug:"tour"}},mounted(){this.onMinParticipantRule()},setup(){return{options:le,optionsFn(e){return e>=re}}},watch:{hotel(){this.$refs?.roomBudgetRef?.validate()}},computed:{...(0,z.aH)(ee.P,["page_hotel_level_price"]),...(0,z.Us)(F,["date_start","participant_adult","participant_young","description","hotel","dibayar","dibayar_percent","room_qty","room_budget","name","email","phone","instance","city","address"]),getHotelPrice(){if(this.page_hotel_level_price&&"Pilih Hotel"!==this.hotel){let t={};for(let a=0;a<this.page_hotel_level_price.length;a++)try{this.hotel.toLowerCase()===this.page_hotel_level_price[a]["label"].toLowerCase()&&(t=this.page_hotel_level_price[a])}catch(e){}return t}}},methods:{onMinParticipantRule(){this.participant_adult=this.item?.minParticipant},minParticipantRule(e){const t=this;return new Promise(((a,o)=>{setTimeout((()=>{const o=e>=Number(t.item?.minParticipant);o||t.onMinParticipantRule(),a(o||"(Minimal) Peserta "+t.item?.minParticipant+" (wajib)")}),0)}))},minPrice(e){const t=this;return new Promise(((a,o)=>{setTimeout((()=>{const o=e>=Number(t.getHotelPrice?.minPrice);o||(t.room_budget=t.getHotelPrice?.minPrice),a(o||"Budget Terendah Rp."+t.getHotelPrice?.minPrice+" (wajib)")}),0)}))},async onSubmit({price_id:e}){const t=this;return t.$refs?.dewasaRef?.validate(),t.$refs?.dateRef?.validate(),t.$refs?.hotelRef?.validate(),t.$refs?.roomRef?.validate(),t.$refs?.roomBudgetRef?.validate(),t.participant_adult<Number(t.item?.minParticipant)||t.$refs?.dewasaRef?.hasError?t.$q.notify({color:"negative",message:"(Minimal) Peserta "+this.item?.minParticipant+" (wajib)",position:"top"}):t.$refs?.hotelRef?.hasError?t.$q.notify({color:"negative",message:"Hotel (wajib)",position:"top"}):"pilih hotel"!==t.hotel?.toLocaleLowerCase()&&"tanpa hotel"!==t.hotel?.toLocaleLowerCase()&&t.$refs?.roomRef?.hasError?t.$q.notify({color:"negative",message:"Jumlah Kamar (min. 1) (wajib)",position:"top"}):(this.$q.notify({message:"Simpan data formulir",color:"positive",position:"bottom"}),void t.$router.push({name:"/tour/product-order",params:{...this.$route.params}}))}}};var ne=a(12807),ce=a(67156),se=a(38670),de=a(39270),me=a(50492),ue=a(48975),pe=a(56384),he=a(94940),ge=a(88672),_e=a(98582),Ne=a.n(_e);const Ve=(0,ne.A)(ie,[["render",X]]),be=Ve;Ne()(ie,"components",{QField:ce.A,QDate:se.A,QInput:de.A,QIcon:me.A,QPopupProxy:ue.A,QBtn:pe.A,QSelect:he.A}),Ne()(ie,"directives",{ClosePopup:ge.A});var ye=a(7848);const xe={props:{item:null,price_css:{default:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 row text-white"},simulasi:{default:!0},date_sticky:{default:!1}},emits:["onBubbleEvent"],components:{FormTourSimulasi:be},setup(){const e=(0,ye.A)(),{showMultiple:t}=e;return{optionsFn(e){return e>=formattedString},showMultiple:t,expanded:(0,o.ref)(!1)}},computed:{...(0,z.aH)(ee.P,["page_hotel_level_price"]),...(0,z.Us)(F,["date_start","participant_adult","participant_young","description","hotel","dibayar","dibayar_percent","room_qty","room_budget","name","email","phone","instance","city","address"]),grandTotal(){return Number(this.grandTotalHotel)+Number(this.getTotalNonHotel)},grandTotalDP(){return 30*Number(this.grandTotal)/100},grandTotalHotel(){return Number(this.room_qty)*Number(this.room_budget)},getHotelAVG(){return(Number(this.getHotelPrice?.maxPrice)+Number(this.getHotelPrice?.minPrice))/2},subTotalAnak(){return this.participant_young*this.$finalPriceAnak(this.item)},subTotalDewasa(){return this.participant_adult*this.$finalPrice(this.item)},getAllPerserta(){return Number(this.participant_adult)+Number(this.participant_young)},getHotelPrice(){if(this.page_hotel_level_price&&"Pilih Hotel"!==this.hotel){let t={};for(let a=0;a<this.page_hotel_level_price.length;a++)try{this.hotel.toLowerCase()===this.page_hotel_level_price[a]["label"].toLowerCase()&&(t=this.page_hotel_level_price[a])}catch(e){}return t}},getTotalNonHotel(){return Number(this.subTotalAnak)+Number(this.subTotalDewasa)}},methods:{onSubmit(){this.$refs.form.onSubmit({price_id:this.item?.id})},badgeCondition(e){switch(e){case"public":return"pink";case"partner":return"positive";case"private":return"primary"}}}};var ve=a(23316),Ce=a(44189),fe=a(90124),we=a(25173),ke=a(13796),Pe=a(10386),Ee=a(53999),Ae=a(76031);const qe=(0,ne.A)(xe,[["render",M],["__scopeId","data-v-52a5b362"]]),Se=qe;Ne()(xe,"components",{QCard:ve.A,QCardSection:Ce.A,QItem:fe.A,QItemSection:we.A,QItemLabel:ke.A,QSeparator:Pe.A,QList:Ee.A,QIcon:me.A,QBtnGroup:Ae.A,QBtn:pe.A});var Be=a(67180);const De={class:""},$e={class:"col-xl-auto col-lg-auto col-md-auto col-sm-auto col-xs-12"},Te={class:"col"},He={props:["record"],methods:{onSubmit(e){this.$refs["side_price"+e][e]?.onSubmit()}}},Qe=Object.assign(He,{__name:"StoreDetailProductContent",setup(e){return(t,a)=>{const r=(0,o.resolveComponent)("q-item-label"),l=(0,o.resolveComponent)("q-item-section"),i=(0,o.resolveComponent)("q-card-section"),n=(0,o.resolveComponent)("q-separator"),c=(0,o.resolveComponent)("q-btn");(0,o.resolveComponent)("q-img"),(0,o.resolveComponent)("q-icon"),(0,o.resolveComponent)("q-banner");return(0,o.openBlock)(),(0,o.createElementBlock)("div",De,[(0,o.createVNode)((0,o.unref)(Be.A),{record:e.record},null,8,["record"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.record?.tourPrices,((e,a)=>((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(Se),{class:"q-mt-sm",item:e,ref_for:!0,ref:"side_price"+a},{header:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{class:"bg-grey-1"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(r,{class:"text-h6 text-weight-normal"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("SIMULASI BIAYA")])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(n)])),buttons:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",$e,[(0,o.createVNode)(c,{class:"full-width",unelevated:"",size:"16px","no-caps":"",square:"",color:"positive","text-color":"white",icon:"search",label:"Preview"})]),(0,o.createElementVNode)("div",Te,[(0,o.createVNode)(c,{class:"full-width",unelevated:"",size:"16px","no-caps":"",onClick:e=>t.onSubmit(a),square:"",color:"primary","text-color":"white",label:"Buat Pesanan",icon:"shopping_cart_checkout"},null,8,["onClick"])])])),_:2},1032,["item"])))),256)),(0,o.createCommentVNode)("",!0)])}}});var Re=a(330),Ie=a(46868);const Le=(0,ne.A)(Qe,[["__scopeId","data-v-25c9cdb4"]]),Me=Le;Ne()(Qe,"components",{QCardSection:Ce.A,QItemSection:we.A,QItemLabel:ke.A,QSeparator:Pe.A,QBtn:pe.A,QImg:Re.A,QBanner:Ie.A,QIcon:me.A});var ze=a(43666),je=(a(33498),a(14907),a(1573));const Oe={class:"content-page-section row justify-center"},Fe={key:0,class:"col-12 text-center"},Ke={class:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},Ue={key:0,class:"col-12 q-mb-lg"},Ye={class:"col-xl-auto col-lg-auto col-md-12 col-sm-12 col-xs-12"},Je={class:"col-xl col-lg col-md-12 col-sm-12 col-xs-12"},Ge={data(){return{product_price:!0}},computed:{...(0,z.Us)(F,["date_start","participant_adult","participant_young","description","hotel","dibayar","dibayar_percent","room_qty","room_budget","name","email","phone","instance","city","address","record","loading"]),to_watch(){return{date_start:this.date_start,participant_adult:this.participant_adult,participant_young:this.participant_young,description:this.description,hotel:this.hotel,dibayar:this.dibayar,dibayar_percent:this.dibayar_percent,room_qty:this.room_qty,room_budget:this.room_budget,name:this.name,email:this.email,phone:this.phone,instance:this.instance,city:this.city,address:this.address}}},watch:{to_watch(){this.setCookies()}},mounted(){const e=this,t="TOUR-"+this.$route.params?.slug+"-"+this.$route.params?.slug_text;this.$q.cookies.has(t)&&e.getCookies(t)},methods:{onSubmit(e){this.loading=!0,this.$refs["side_price"+e][e]?.onSubmit()},getCookies(e){const t=this.$q.cookies.get(e);this.getDateDiff(t.state.date_start)>=0&&(this.date_start=t.state.date_start),this.participant_adult=t.state.participant_adult,this.participant_young=t.state.participant_young,this.description=t.state.description,this.hotel=t.state.hotel,this.dibayar=t.state.dibayar,this.dibayar_percent=t.state.dibayar_percent,this.room_qty=t.state.room_qty,this.room_budget=t.state.room_budget,this.name=t.state.name,this.email=t.state.email,this.phone=t.state.phone,this.instance=t.state.instance,this.city=t.state.city,this.address=t.state.address},setCookies(){const e={route:{url:window.location.href,host:this.$getHost(),path:this.$route.path,name:this.$route.name,params:this.$route.params,query:this.$route.query},state:{date_start:this.date_start,participant_adult:this.participant_adult,participant_young:this.participant_young,description:this.description,hotel:this.hotel,dibayar:this.dibayar,dibayar_percent:this.dibayar_percent,room_qty:this.room_qty,room_budget:this.room_budget,name:this.name,email:this.email,phone:this.phone,instance:this.instance,city:this.city,address:this.address}},t="TOUR-"+this.$route.params?.slug+"-"+this.$route.params?.slug_text;this.$q.cookies.set(t,JSON.stringify(e),{secure:!0,path:"/"})},getDateDiff(e){let t=new Date;t=te.Ay.addToDate(t,{days:3});const a=new Date(e),o="days";return te.Ay.getDateDiff(a,t,o)}}},Ze=Object.assign(Ge,{preFetch:(0,je.kE)((({store:e,currentRoute:t,previousRoute:a,redirect:o,ssrContext:r,urlPath:l,publicPath:i})=>F(e).onFetch(t?.params?.slug)))},{__name:"product-detail",setup(e){return(e,t)=>{const a=(0,o.resolveComponent)("q-spinner"),r=(0,o.resolveComponent)("q-item-label"),l=(0,o.resolveComponent)("q-item-section"),i=(0,o.resolveComponent)("q-card-section"),n=(0,o.resolveComponent)("q-separator"),c=(0,o.resolveComponent)("q-btn"),s=((0,o.resolveComponent)("FormBookingPackageSide"),(0,o.resolveComponent)("MorePackageSide"),(0,o.resolveComponent)("RelatedImageSlide"),(0,o.resolveComponent)("GoogleMapPackageSide"),(0,o.resolveComponent)("q-no-ssr"));(0,o.resolveComponent)("q-btn-group"),(0,o.resolveComponent)("q-card"),(0,o.resolveComponent)("q-dialog");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",Oe,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["row justify-center col-xl-8 col-lg-10 col-md-12 col-sm-12 col-12",[e.$q.screen.width>425?"q-col-gutter-lg":"q-col-gutter-y-xl q-col-gutter-x-lg",e.$q.screen.width>768?"q-col-gutter-lg":""]])},[!e.record&&e.loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fe,[(0,o.createVNode)(a,{color:"primary",size:"3em"})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Ke,[e.record?.tourStore?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ue,[(0,o.createVNode)((0,o.unref)(ze.A),{item:e.record?.tourStore},null,8,["item"])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(Me,{id:"StoreDetailProductContent",record:e.record},null,8,["record"])]),e.$q.screen.width>768?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12",[e.$q.screen.width>768?"":"row"]])},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.record?.tourPrices,((t,a)=>((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(Se),{simulasi:!1,ref_for:!0,ref:"side_price"+a,price_css:"col-12 row text-white",item:t,date_sticky:!0},{header:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{class:"bg-grey-1"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(r,{class:"text-h6 text-weight-normal"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("SIMULASI BIAYA")])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(n)])),buttons:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Ye,[(0,o.createVNode)(c,{class:"full-width",unelevated:"",size:"md","no-caps":"",square:"",color:"positive","text-color":"white",icon:"search",label:"Preview"})]),(0,o.createElementVNode)("div",Je,[(0,o.createTextVNode)((0,o.toDisplayString)(e.loading)+" xxx ",1),(0,o.createVNode)(c,{loading:e.loading,class:"full-width",unelevated:"",size:"md","no-caps":"",onClick:t=>e.onSubmit(a),square:"",color:"primary","text-color":"white",label:"Buat Pesanan",icon:"shopping_cart_checkout"},null,8,["loading","onClick"])])])),_:2},1032,["item"])))),256)),(0,o.createCommentVNode)("",!0)],2)):(0,o.createCommentVNode)("",!0)],2)]),(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createCommentVNode)("",!0)])),_:1})],64)}}});var We=a(58210),Xe=a(88481),et=a(82156);const tt=(0,ne.A)(Ze,[["__scopeId","data-v-09cd45f8"]]),at=tt;Ne()(Ze,"components",{QSpinner:We.A,QCardSection:Ce.A,QItemSection:we.A,QItemLabel:ke.A,QSeparator:Pe.A,QBtn:pe.A,QNoSsr:Xe.A,QDialog:et.A,QCard:ve.A,QBtnGroup:Ae.A})}}]);