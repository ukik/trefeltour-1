"use strict";(globalThis["webpackChunkcom_lagia_app"]=globalThis["webpackChunkcom_lagia_app"]||[]).push([[4007],{7848:(e,t,a)=>{a.d(t,{A:()=>i});var o=a(12150);const i=(0,o.nY)("GlobalEasyLightbox",{id:"GlobalEasyLightbox",state:()=>({visible:!1,index:0,imgs:[]}),getters:{getVisible:e=>e.visible,getIndex:e=>e.index,getImgs:e=>e.imgs},actions:{onShow(){this.visible=!0},showMultiple(e,t){this.imgs=e,this.index=t,this.onShow()},showImage(e=0){this.index=e,this.onShow()},onHide(){this.visible=!1}}})},14007:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});a(10239);var o=a(99523),i=a(12150),r=(a(14907),a(54885),a(1573)),l=a(7848),n=a(16306),s=a.n(n),c=(a(20989),a(53500)),d=a(94717);const g=(0,i.nY)("DestinationStore",{id:"DestinationStore",state:()=>({slug:"page-destination",errors:{},data:{},paginate:[5,10,25,50,75,100],records:[],totalItem:0,page:1,orderField:"",orderDirection:"",isShowDataRecycle:!1,search:"",lastPage:0,currentPage:1,perPage:25,isAvailable:"",loading:!1,init:!1,additional:""}),getters:{getRecords:e=>e.records},actions:{async onFetch({currentPage:e}){if(this.loading)return!1;this.loading=!0;const t=await s()({url:"/trevolia-api/v1/entities/page-destination",method:"get",params:{slug:this.slug,page:this.page,orderField:d.A.snake(this.orderField),orderDirection:d.A.snake(this.orderDirection),showSoftDelete:this.isShowDataRecycle,isAvailable:this.isAvailable,search:this.search,perPage:this.perPage,page:e,payload:[],loading:!1}}).then((e=>e)).catch((e=>{}));if(this.loading=!1,!t?.data)return this.loading=!1;this.init=!0;try{t?.data?.data?.data.forEach((e=>{e?.image&&(e["image"]=JSON.parse(e["image"]))}))}catch(a){t?.data?.data?.data.forEach((e=>{e?.image&&(e["image"]=[e["image"]])}))}this.lastPage=t?.data?.data?.lastPage,this.currentPage=t?.data?.data?.currentPage,this.perPage=t?.data?.data?.perPage,this.totalItem=t?.data?.data?.total,this.data=t?.data?.data,this.records=t?.data?.data?.data,t?.data?.additional?.image&&(t.data.additional["image"]=JSON.parse(t.data.additional["image"])),this.additional=t?.data?.additional},onPaginate:(0,c.A)((async function({currentPage:e}){this.onFetch({currentPage:e})}),500),async onClearRegister(){}}});var u=a(60455);const h=e=>((0,o.pushScopeId)("data-v-6bb3f33d"),e=e(),(0,o.popScopeId)(),e),m={class:"content-page-section row justify-center"},p={key:0,class:"col-12 text-center"},f={key:1,class:"col-12"},v={class:"col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12"},x=h((()=>(0,o.createElementVNode)("div",{class:"absolute-full flex flex-center text-white"}," Cannot load image ",-1))),b={class:"absolute-full bg-transparent flex justify-center items-end"},w={class:"col-12 flex justify-center"},y=Object.assign({preFetch:(0,r.kE)((({store:e,currentRoute:t,previousRoute:a,redirect:o,ssrContext:i,urlPath:r,publicPath:l})=>(t?.query?.page||o({name:t.name,query:{page:1}}),g(e).onFetch({currentPage:t?.query?.page}))))},{__name:"destination",setup(e){const t=g(),{onFetch:a,onPaginate:r}=t,{errors:n,data:s,paginate:c,records:d,totalItem:h,page:y,orderField:C,orderDirection:P,isShowDataRecycle:V,search:N,lastPage:k,currentPage:q,perPage:S,loading:A,init:E}=(0,i.bP)(t),D=(0,l.A)(),{showMultiple:I}=D,_=(0,u.rd)(),B=async e=>{_.push({query:{page:e.value}}),r({currentPage:e.value})};function F(){}return(0,o.watch)((()=>q),B,{deep:!0}),(0,u.JZ)(((e,t,a)=>(F(),a()))),(e,t)=>{const a=(0,o.resolveComponent)("q-spinner"),i=(0,o.resolveComponent)("NoData"),r=(0,o.resolveComponent)("DestinationRating"),l=(0,o.resolveComponent)("q-btn"),n=(0,o.resolveComponent)("q-item-label"),s=(0,o.resolveComponent)("q-card-section"),c=(0,o.resolveComponent)("q-card"),g=(0,o.resolveComponent)("q-img"),u=(0,o.resolveComponent)("q-pagination");return(0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["row justify-start col-xl-8 col-lg-10 col-md-12 col-sm-12 col-12",[e.$q.screen.width>425?"q-col-gutter-lg":"q-col-gutter-y-xl q-col-gutter-x-lg",e.$q.screen.width>768?"q-col-gutter-lg":""]])},[(0,o.unref)(d).length<=0&&(0,o.unref)(A)?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createVNode)(a,{color:"primary",size:"3em"})])):(0,o.createCommentVNode)("",!0),(0,o.unref)(d).length<=0&&!(0,o.unref)(A)?((0,o.openBlock)(),(0,o.createElementBlock)("div",f,[(0,o.createVNode)(i)])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(d),((t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createVNode)(c,{flat:"",class:"rounded-borders-2"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{loading:"lazy",ratio:16/9,class:"card-box",src:t?.image[0],"error-src":e.$defaultErrorImage},{error:(0,o.withCtx)((()=>[x])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",b,[(0,o.createVNode)(c,{flat:"",class:"text-box text-left text-dark q-mt-lg full-width rounded-borders-2"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(r,{rating:t?.rating},null,8,["rating"]),(0,o.createVNode)(l,{to:"/tourism/venue-list",dense:"",size:"md",color:"primary",class:"text-weight-light",flat:"",label:t?.countVenue+" DESTINASI"},null,8,["label"]),(0,o.createVNode)(n,{class:"text-h5",lines:"1"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t?.city),1)])),_:2},1024),(0,o.createVNode)(n,{caption:"",class:"text-capitalize",lines:"3"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(t?.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["src","error-src"])])),_:2},1024)])))),256)),(0,o.createElementVNode)("div",w,[(0,o.createVNode)(u,{disable:(0,o.unref)(A),class:"q-mt-lg",size:"lg",modelValue:(0,o.unref)(q),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.isRef)(q)?q.value=e:null),max:(0,o.unref)(k),"max-pages":6,input:e.$q.screen.width<768,"direction-links":"",outline:"",color:"blue","active-design":"unelevated","active-color":"primary","active-text-color":"white"},null,8,["disable","modelValue","max","input"])])],2)])}}});var C=a(12807),P=a(58210),V=a(23316),N=a(330),k=a(44189),q=a(56384),S=a(13796),A=a(54700),E=a(90124),D=a(98582),I=a.n(D);const _=(0,C.A)(y,[["__scopeId","data-v-6bb3f33d"]]),B=_;I()(y,"components",{QSpinner:P.A,QCard:V.A,QImg:N.A,QCardSection:k.A,QBtn:q.A,QItemLabel:S.A,QPagination:A.A,QItem:E.A})}}]);