"use strict";(globalThis["webpackChunkcom_lagia_app"]=globalThis["webpackChunkcom_lagia_app"]||[]).push([[8322],{41320:(e,t,a)=>{a.d(t,{j:()=>d});var o=a(12150),l=a(16306),r=a.n(l),n=(a(20989),a(53500)),i=a(94717),c=a(40487);const d=(0,o.nY)("TourCartListStore",{id:"TourCartListStore",state:()=>({slug:"tour-carts",errors:{},data:{},paginate:[5,10,25,50,75,100],records:[],totalItem:0,page:1,orderField:"",orderDirection:"",isShowDataRecycle:!1,search:"",lastPage:1,currentPage:1,perPage:25,isAvailable:"",venueId:"",loading:!1,init:!1,additional:""}),getters:{getRecords:e=>e.records},actions:{async onFetch({currentPage:e,query:t}){if(this.loading)return!1;this.loading=!0;const a=await r()({url:"/trevolia-api/v1/entities/tour-carts/lagia",method:"get",params:{slug:this.slug,page:this.page,orderField:i.A.snake(this.orderField),orderDirection:i.A.snake(this.orderDirection),showSoftDelete:this.isShowDataRecycle,isAvailable:this.isAvailable,search:this.search,perPage:this.perPage,page:e,payload:[],loading:!1,...t}}).then((e=>e)).catch((e=>{}));if(this.loading=!1,!a?.data)return this.loading=!1;this.init=!0;try{a?.data?.data?.data.forEach((e=>{e?.tourProduct?.image&&(e.tourProduct["image"]=JSON.parse(e.tourProduct["image"]))}))}catch(o){a?.data?.data?.data.forEach((e=>{e?.tourProduct?.image&&(e.tourProduct["image"]=[e.tourProduct["image"]])}))}if(this.lastPage=a?.data?.data?.lastPage,this.currentPage=a?.data?.data?.currentPage,this.perPage=a?.data?.data?.perPage,this.totalItem=a?.data?.data?.total,this.data=a?.data?.data,this.records=a?.data?.data?.data,t?.selected_id){const e=(0,c.q)(),{setSelected:a}=e;this.records.forEach(((e,o)=>{e.id==t?.selected_id&&a([e])}))}this.additional=a?.data?.additional},onPaginate:(0,n.A)((async function({currentPage:e,query:t}){this.onFetch({currentPage:e,query:t})}),500),async onClearRegister(){},onRecordRemove(e,t=null){this.records.forEach(((t,a)=>{t.id!=e||this.records.splice(a,1)}))}}})},40487:(e,t,a)=>{a.d(t,{q:()=>p});a(10239);var o=a(12150),l=a(16306),r=a.n(l),n=a(36153),i=a(20989),c=(a(54885),a(41597),a(21103),a(33498),a(56559)),d=a(41320);function s(e){const t=e?.generalPrice,a=e?.discountPrice,o=e?.cashbackPrice,l=Number(t)-Number(t)*Number(a)/100-Number(o);return l<=0?0:l}function u(e){const t=e?.generalPriceChild,a=e?.discountPrice,o=e?.cashbackPrice,l=Number(t)-Number(t)*Number(a)/100-Number(o);return l<=0?0:l}const p=(0,o.nY)("TourCartSelectedStore",{id:"TourCartSelectedStore",state:()=>({selected:[],vat:5555,coupon:0,item:{total:0,coupon:0,vat:null,grand:0},filter:"",min_participant:null,date_start:null,participant_adult:null,participant_young:0,description:null,hotel:"Pilih Hotel",date_checkin:[],loading:!1}),getters:{getSelectedTourPrice:e=>e.selected.length>0?e.selected[0]?.tourPrice:[],subTotalAnak:e=>e.selected.length<=0?0:e.participant_young*u(e.selected[0]?.tourPrice),subTotalDewasa:e=>e.selected.length<=0?0:e.participant_adult*s(e.selected[0]?.tourPrice),calculate:e=>{if(!e.selected)return;let t=0;for(let a=0;a<e.selected.length;a++)t+=Number(e.selected[a]["price"]*e.selected[a]["quantity"]);return{total:t,coupon:e.coupon,vat:e.vat,grand:Number(t-e.vat-e.coupon)}},getHotelPrice:e=>{const t=(0,c.P)(),{page_hotel_level_price:a}=t;if(a&&"Pilih Hotel"!==e.hotel){let t={};for(let l=0;l<a.length;l++)try{e.hotel.toLowerCase()===a[l]["label"].toLowerCase()&&(t=a[l])}catch(o){}return t}}},actions:{calculateSingle(){if(!this.selected)return;const e=this.$finalPrice(this.selected[0]?.tourPrice)+this.$finalPriceAnak(this.selected[0]?.tourPrice),t=Number(e)-Number(this.coupon);this.item={total:this.$currency(e),coupon:this.coupon,vat:this.vat,grand:this.$currency(t)}},onOpen(){this.prompt=!0},async onRemove(e=[]){const t=e.map((e=>e)),a=await r()({url:"/trevolia-api/v1/entities/tour-carts/delete",method:"delete",data:{slug:"tour-carts",data:[{field:"id",value:t.join(",")}]}}).then((e=>(i.A.create({color:"positive",position:"top",message:"Loading success",caption:"data berhasil diproses",icon:"done"}),!0))).catch((e=>(i.A.create({color:"negative",position:"top",message:"Loading failed",caption:"data gagal dihapus",icon:"report_problem"}),!1)));return a},async onAddToBook({payload:e}){const t=this.selected[0]?.id;if(this.loading)return!1;this.loading=!0,n.A.show();const a=new FormData;this.selected[0]["date_start"]=this.date_start,this.selected[0]["participant_adult"]=this.participant_adult,this.selected[0]["participant_young"]=this.participant_young,this.selected[0]["description"]=this.description,this.selected[0]["hotel"]=this.hotel,this.selected[0]["date_checkin"]=this.date_checkin,a.append("payload",JSON.stringify(this.selected)),a.append("description",this.description),a.append("min_participant",this.min_participant);const o=await r()({url:"/trevolia-api/v1/entities/tour-carts/add",method:"post",data:a}).then((e=>(i.A.create({color:"positive",position:"top",message:"Loading success",caption:"data berhasil diproses",icon:"done"}),e))).catch((e=>(401==e?.response?.status?i.A.create({color:"negative",position:"top",message:"Loading failed",caption:"harus login",icon:"report_problem"}):i.A.create({color:"negative",position:"top",message:"Loading failed",icon:"report_problem"}),!1)));if(this.loading=!1,n.A.hide(),!o)return;const{onRecordRemove:l}=(0,d.j)();return l(t),this.onSelectedRemove(t),this.router.push({name:"/tour/booking-detail",params:{id:o?.data?.additional?.id}}),o},setSelected(e){this.selected=e},onReset(){this.date_start=null,this.participant_young=0,this.description=null,this.hotel="Pilih Hotel",this.date_checkin=[],this.loading=!1},onSelectedRemove(e){this.selected[0]?.id==e&&this.onResetStateA()},onResetStateA(){this.selected=[],this.vat=0,this.coupon=0,this.item={total:0,coupon:0,vat:null,grand:0},this.min_participant=null,this.date_start=null,this.participant_adult=null,this.participant_young=0,this.description=null,this.hotel="Pilih Hotel",this.date_checkin=[]}}})},64800:(e,t,a)=>{a.d(t,{A:()=>J});var o=a(99523);const l=e=>((0,o.pushScopeId)("data-v-4b2f5cf1"),e=e(),(0,o.popScopeId)(),e),r={class:"form-box"},n=l((()=>(0,o.createElementVNode)("h2",{class:"q-mb-none"},"DATA PELANGGAN",-1))),i=l((()=>(0,o.createElementVNode)("h5",{class:"subtitle q-mb-sm"},"SILAHKAN LENGKAPI",-1))),c=l((()=>(0,o.createElementVNode)("span",{class:"text-caption"},"Isi formulir dibawah ini dengan informasi yang benar",-1))),d={class:"col-12"},s=l((()=>(0,o.createElementVNode)("div",{class:"text-white"},"Wajib Nama Lengkap",-1))),u=l((()=>(0,o.createElementVNode)("span",{class:"text-white"},"Nama Lengkap *",-1))),p={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},m=l((()=>(0,o.createElementVNode)("div",{class:"text-white"},"Wajib Instansi",-1))),h=l((()=>(0,o.createElementVNode)("span",{class:"text-white"},"Instansi *",-1))),g={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},V=l((()=>(0,o.createElementVNode)("div",{class:"text-white"},"Wajib Email",-1))),N=l((()=>(0,o.createElementVNode)("span",{class:"text-white"},"Email *",-1))),v={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},b=l((()=>(0,o.createElementVNode)("div",{class:"text-white"},"Wajib Telepon",-1))),x=l((()=>(0,o.createElementVNode)("span",{class:"text-white"},"Telepon *",-1))),f={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},w=l((()=>(0,o.createElementVNode)("div",{class:"text-white"},"Wajib Kota Asal",-1))),C=l((()=>(0,o.createElementVNode)("span",{class:"text-white"},"Kota Asal *",-1))),y={class:"col-12"},_=l((()=>(0,o.createElementVNode)("div",{class:"text-white"},"Wajib Alamat",-1))),P=l((()=>(0,o.createElementVNode)("span",{class:"text-white"},"Alamat *",-1)));function A(e,t,a,l,A,T){const k=(0,o.resolveComponent)("q-card-section"),S=(0,o.resolveComponent)("q-icon"),E=(0,o.resolveComponent)("q-input"),q=(0,o.resolveComponent)("q-card"),D=(0,o.resolveComponent)("q-btn"),H=(0,o.resolveComponent)("q-card-actions");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("form",{id:"form-career-component",onSubmit:t[6]||(t[6]=(0,o.withModifiers)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent","stop"])),onReset:t[7]||(t[7]=(0,o.withModifiers)(((...e)=>l.onReset&&l.onReset(...e)),["prevent","stop"]))},[(0,o.createVNode)(q,{flat:"",class:"rounded-borders-2 bg-form q-pt-md"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{class:"text-center"},{default:(0,o.withCtx)((()=>[n,i,c])),_:1}),(0,o.createVNode)(k,{class:"q-col-gutter-md row"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",d,[(0,o.createVNode)(E,{clearable:"",counter:"",maxlength:"100","bg-color":"white",rounded:"",outlined:"",color:"primary",ref:"nameRef",modelValue:l.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),"lazy-rules":"",placeholder:"Nama Lengkap",rules:[e=>!!e||""],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{name:"person",color:"primary"})])),error:(0,o.withCtx)((()=>[s])),hint:(0,o.withCtx)((()=>[u])),_:1},8,["modelValue","rules"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(E,{clearable:"",counter:"",maxlength:"100","bg-color":"white",rounded:"",outlined:"",color:"primary",ref:"instanceRef",modelValue:l.instance,"onUpdate:modelValue":t[1]||(t[1]=e=>l.instance=e),"lazy-rules":"",placeholder:"Instansi",rules:[e=>!!e||""],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{name:"home",color:"primary"})])),error:(0,o.withCtx)((()=>[m])),hint:(0,o.withCtx)((()=>[h])),_:1},8,["modelValue","rules"])]),(0,o.createElementVNode)("div",g,[(0,o.createVNode)(E,{type:"email",clearable:"",counter:"",maxlength:"100","bg-color":"white",rounded:"",outlined:"",color:"primary",ref:"emailRef",modelValue:l.email,"onUpdate:modelValue":t[2]||(t[2]=e=>l.email=e),"lazy-rules":"",placeholder:"Email",rules:[e=>!!e||"","email"],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{name:"email",color:"primary"})])),error:(0,o.withCtx)((()=>[V])),hint:(0,o.withCtx)((()=>[N])),_:1},8,["modelValue","rules"])]),(0,o.createElementVNode)("div",v,[(0,o.createVNode)(E,{clearable:"",counter:"",maxlength:"25",mask:"+62 #### #### ###########","bg-color":"white",rounded:"",outlined:"",color:"primary",ref:"phoneRef",modelValue:l.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>l.phone=e),"lazy-rules":"",placeholder:"Telepon",rules:[e=>!!e||""],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{name:"phone",color:"primary"})])),error:(0,o.withCtx)((()=>[b])),hint:(0,o.withCtx)((()=>[x])),_:1},8,["modelValue","rules"])]),(0,o.createElementVNode)("div",f,[(0,o.createVNode)(E,{clearable:"",counter:"",maxlength:"100","bg-color":"white",rounded:"",outlined:"",color:"primary",ref:"cityRef",modelValue:l.city,"onUpdate:modelValue":t[4]||(t[4]=e=>l.city=e),"lazy-rules":"",placeholder:"Kota Asal",rules:[e=>!!e||""],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{name:"near_me",color:"primary"})])),error:(0,o.withCtx)((()=>[w])),hint:(0,o.withCtx)((()=>[C])),_:1},8,["modelValue","rules"])]),(0,o.createElementVNode)("div",y,[(0,o.createVNode)(E,{type:"textarea",clearable:"",counter:"",maxlength:"300","bg-color":"white",rounded:"",outlined:"",color:"primary",ref:"addressRef",modelValue:l.address,"onUpdate:modelValue":t[5]||(t[5]=e=>l.address=e),"lazy-rules":"",placeholder:"Alamat",rules:[e=>!!e||""],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{name:"place",color:"primary"})])),error:(0,o.withCtx)((()=>[_])),hint:(0,o.withCtx)((()=>[P])),_:1},8,["modelValue","rules"])])])),_:1})])),_:1}),(0,o.createVNode)(q,{flat:"",bordered:"",class:"rounded-borders-2 q-mt-lg"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(H,{class:"q-pa-md",align:"between"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(D,{onClick:T.onDeletePopup,style:{padding:"10px 15px"},icon:"delete",unelevated:"",color:"negative",size:"18px",label:"Hapus","no-caps":""},null,8,["onClick"]),(0,o.createVNode)(D,{type:"submit",style:{padding:"10px 15px"},"icon-right":"send",unelevated:"",color:"positive",size:"18px",label:"Book Now","no-caps":""})])),_:1})])),_:1})],32)])}var T=a(14907),k=a(38336),S=a(12150),E=a(40487),q=a(41320);const{getScrollTarget:D,setVerticalScrollPosition:H}=k.Ay;function R(e){const t=D(e),a=e.offsetTop,o=10;H(t,a,o)}const B={setup(){const{onAddToBook:e}=(0,E.q)(),t=(0,T.A)(),a=(0,o.ref)("demo@gmail.com"),l=(0,o.ref)(null),r=(0,o.ref)("demo@gmail.com"),n=(0,o.ref)(null),i=(0,o.ref)(423523523),c=(0,o.ref)(null),d=(0,o.ref)("demo@gmail.com"),s=(0,o.ref)(null),u=(0,o.ref)("demo@gmail.com"),p=(0,o.ref)(null),m=(0,o.ref)("demo@gmail.com"),h=(0,o.ref)(null),g=(0,o.ref)(!1);return{onAddToBook:e,name:a,email:r,phone:i,instance:d,city:u,address:m,nameRef:l,emailRef:n,phoneRef:c,instanceRef:s,cityRef:p,addressRef:h,accept:g,async onSubmit(){l.value.validate(),n.value.validate(),c.value.validate(),s.value.validate(),p.value.validate(),h.value.validate(),l.value.hasError||n.value.hasError||c.value.hasError||s.value.hasError||p.value.hasError||h.value.hasError?t.notify({color:"negative",message:"Lengkapi formulir pelanggan"}):await e({payload:{full_name:a.value,email:r.value,phone:i.value,instance:d.value,city:u.value,address:m.value}})},onReset(){a.value=null,r.value=null,i.value=null,d.value=null,u.value=null,m.value=null,l.value.resetValidation(),n.value.resetValidation(),c.value.resetValidation(),s.value.resetValidation(),p.value.resetValidation(),h.value.resetValidation()}}},computed:{...(0,S.aH)(E.q,["selected"])},methods:{...(0,S.i0)(E.q,["onRemove","onSelectedRemove","onAddToBook"]),...(0,S.i0)(q.j,["onRecordRemove"]),async onDeletePopup(){const e=this,t=this.selected[0]?.id;e.$swal.fire({title:"Apa anda yakin?",text:"Hapus data ini dari keranjang",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, hapus saja!",cancelButtonText:"Tidak, cancel!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then((async a=>{if(a.isConfirmed){e.$q.loading.show();const a=await e.onRemove([t]);if(e.$q.loading.hide(),a){e.$q.notify({icon:"done",color:"positive",message:"Deleted!",caption:"Data berhasil dihapus"}),await e.onRecordRemove(t),await e.onSelectedRemove(t);const a=document.querySelector("#ANCHOR");R(a)}}else a.dismiss===e.$swal.DismissReason.cancel&&e.$q.notify({icon:"close",color:"negative",message:"Cancelled!",caption:"Data gagal dihapus"})}))}}};var $=a(12807),Q=a(23316),I=a(44189),L=a(10386),j=a(39270),F=a(50492),G=a(94940),M=a(66908),z=a(62669),U=a(56384),K=a(67156),Y=a(98582),W=a.n(Y);const O=(0,$.A)(B,[["render",A],["__scopeId","data-v-4b2f5cf1"]]),J=O;W()(B,"components",{QCard:Q.A,QCardSection:I.A,QSeparator:L.A,QInput:j.A,QIcon:F.A,QSelect:G.A,QToggle:M.A,QCardActions:z.A,QBtn:U.A,QField:K.A})},73842:(e,t,a)=>{a.d(t,{A:()=>j});var o=a(99523);const l=e=>((0,o.pushScopeId)("data-v-7b74729d"),e=e(),(0,o.popScopeId)(),e),r=l((()=>(0,o.createElementVNode)("td",null,"Sub Total Biaya (diluar hotel)",-1))),n={class:"text-h6 text-bold"},i=l((()=>(0,o.createElementVNode)("td",null,"Jenis Hotel",-1))),c={class:"text-capitalize"},d=l((()=>(0,o.createElementVNode)("td",null,"Biaya Hotel (Harga Min.)",-1))),s=l((()=>(0,o.createElementVNode)("td",null,"Biaya Hotel (Harga Max.)",-1))),u=l((()=>(0,o.createElementVNode)("td",null,"Coupon",-1))),p={class:"text-bold"},m=l((()=>(0,o.createElementVNode)("td",null,"Grand Total + Hotel Harga Minimal",-1))),h={class:"text-positive"},g={class:"text-bold"},V=l((()=>(0,o.createElementVNode)("td",null,"Grand Total + Hotel Harga Maksimal",-1))),N={class:"text-orange"},v={class:"text-bold"},b=l((()=>(0,o.createElementVNode)("td",null,"Grand Total + Hotel Harga Rata-rata",-1))),x={class:"text-primary"},f={class:"text-bold"},w=l((()=>(0,o.createElementVNode)("td",null,"DP Final 30% dari Grand Total Rata-rata",-1))),C={class:"text-h6"},y={key:0},_={colSpan:"2",class:"bg-red-2"};function P(e,t,a,l,P,A){const T=(0,o.resolveComponent)("q-icon"),k=(0,o.resolveComponent)("q-btn"),S=(0,o.resolveComponent)("q-input"),E=(0,o.resolveComponent)("q-card-section"),q=(0,o.resolveComponent)("q-separator"),D=(0,o.resolveComponent)("q-card-actions"),H=(0,o.resolveComponent)("q-card");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(H,{flat:"",bordered:"",class:"q-mt-lg"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(E,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(S,{loading:P.loading,outlined:"","bottom-slots":"",modelValue:P.text,"onUpdate:modelValue":t[0]||(t[0]=e=>P.text=e),label:"Code Coupon",counter:"",maxlength:"20",clearable:""},(0,o.createSlots)({prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(T,{name:"sell"})])),hint:(0,o.withCtx)((()=>[(0,o.createTextVNode)(" I have a discount coupon ")])),_:2},[e.$q.screen.width>425?{name:"after",fn:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{unelevated:"",loading:P.loading,onClick:A.onCoupon,class:"full-height",icon:"done",color:"positive",label:"Apply Coupon"},null,8,["loading","onClick"])])),key:"0"}:void 0]),1032,["loading","modelValue"])])),_:1}),e.$q.screen.width>425?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(q,{key:0})),e.$q.screen.width>425?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(D,{key:1,class:"q-pa-md",align:"right"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{class:"full-width",unelevated:"",style:{height:"46.28px",padding:"0px 20px"},size:"18px",icon:"done",color:"positive",label:"Apply Coupon"})])),_:1}))])),_:1}),(0,o.createVNode)(H,{flat:"",bordered:"",class:"q-mt-lg"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(D,{align:"right"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("table",null,[(0,o.createElementVNode)("tr",null,[r,(0,o.createElementVNode)("td",n,(0,o.toDisplayString)(e.$currency(A.getTotalNonHotel)),1)]),(0,o.createElementVNode)("tr",null,[i,(0,o.createElementVNode)("td",c,(0,o.toDisplayString)(e.hotel),1)]),(0,o.createElementVNode)("tr",null,[d,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.$currency(e.getHotelPrice?.minPrice)),1)]),(0,o.createElementVNode)("tr",null,[s,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.$currency(e.getHotelPrice?.maxPrice)),1)]),(0,o.createElementVNode)("tr",null,[u,(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.calculate?.coupon),1)]),(0,o.createElementVNode)("tr",p,[m,(0,o.createElementVNode)("td",h,(0,o.toDisplayString)(e.$currency(Number(A.getTotalNonHotel)+Number(e.getHotelPrice?.minPrice))),1)]),(0,o.createElementVNode)("tr",g,[V,(0,o.createElementVNode)("td",N,(0,o.toDisplayString)(e.$currency(Number(A.getTotalNonHotel)+Number(e.getHotelPrice?.maxPrice))),1)]),(0,o.createElementVNode)("tr",v,[b,(0,o.createElementVNode)("td",x,(0,o.toDisplayString)(e.$currency(A.getGrandAvg)),1)]),(0,o.createElementVNode)("tr",f,[w,(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("span",C,(0,o.toDisplayString)(e.$currency(A.getDPAvg)),1)])]),A.getDPAvg>0?((0,o.openBlock)(),(0,o.createElementBlock)("tr",y,[(0,o.createElementVNode)("td",_,[(0,o.createVNode)(T,{name:"info"}),(0,o.createTextVNode)(' Silahkan lengkapi "DATA PELANGGAN" untuk melanjutkan proses Booking paket Anda. Kami akan proses setelah DP dibayarkan. Terimakasih. ')])])):(0,o.createCommentVNode)("",!0)])])),_:1})])),_:1})])}var A=a(12150),T=a(40487);const k={emits:["onCoupon"],data(){return{loading:!1,text:null}},setup(){},computed:{...(0,A.aH)(T.q,["selected","item","min_participant","date_start","participant_adult","participant_young","description","hotel","calculate"]),...(0,A.aH)(T.q,["subTotalAnak","subTotalDewasa","getHotelPrice"]),getTotalNonHotel(){return Number(this.subTotalAnak)+Number(this.subTotalDewasa)},getGrandAvg(){return Number(this.subTotalAnak)+Number(this.subTotalDewasa)+(Number(this.getHotelPrice?.minPrice)+Number(this.getHotelPrice?.maxPrice))/2},getDPAvg(){return this.getGrandAvg-30*this.getGrandAvg/100}},methods:{async onCoupon(){this.$q.notify({message:"Coupon Kosong",color:"negative",position:"top"})}}};var S=a(12807),E=a(23316),q=a(44189),D=a(39270),H=a(50492),R=a(56384),B=a(10386),$=a(62669),Q=a(98582),I=a.n(Q);const L=(0,S.A)(k,[["render",P],["__scopeId","data-v-7b74729d"]]),j=L;I()(k,"components",{QCard:E.A,QCardSection:q.A,QInput:D.A,QIcon:H.A,QBtn:R.A,QSeparator:B.A,QCardActions:$.A})},97022:(e,t,a)=>{a.d(t,{A:()=>U});var o=a(99523);const l={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 row text-white"},r={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 row text-white"};function n(e,t,a,n,i,c){const d=(0,o.resolveComponent)("q-item-label"),s=(0,o.resolveComponent)("q-item-section"),u=(0,o.resolveComponent)("q-card-section"),p=(0,o.resolveComponent)("q-separator"),m=(0,o.resolveComponent)("q-item"),h=(0,o.resolveComponent)("isQItemLabelValue"),g=(0,o.resolveComponent)("q-list"),V=(0,o.resolveComponent)("FormTour"),N=(0,o.resolveComponent)("q-card");return(0,o.openBlock)(),(0,o.createBlock)(N,{class:"q-mt-lg",flat:"",bordered:""},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"carousel"),(0,o.createVNode)(u,{class:"row q-col-gutter-md"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createVNode)(s,{class:"bg-primary col-auto rounded-borders-1 q-pa-md col-12"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{class:"text-white text-capitalize"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Harga Dewasa "+(0,o.toDisplayString)(n.getSelectedTourPrice?.typePrice),1)])),_:1}),(0,o.createVNode)(d,{class:"text-h4"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(e.$finalPrice(n.getSelectedTourPrice))),1)])),_:1})])),_:1})]),(0,o.createElementVNode)("div",r,[(0,o.createVNode)(s,{class:"bg-primary col-auto rounded-borders-1 q-pa-md col-12"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{class:"text-white text-capitalize"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Harga Anak (2-6 tahun) "+(0,o.toDisplayString)(n.getSelectedTourPrice?.typePrice),1)])),_:1}),(0,o.createVNode)(d,{class:"text-h4"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(e.$finalPriceAnak(n.getSelectedTourPrice))),1)])),_:1})])),_:1})])])),_:1}),(0,o.createVNode)(p),(0,o.renderSlot)(e.$slots,"title",{},(()=>[(0,o.createVNode)(u,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{dense:"",class:"q-pa-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{class:"text-h6 q-mb-xs"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(n.getSelectedTourPrice?.name),1)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(d,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(n.getSelectedTourPrice?.createdAt),1)])),_:1})])),_:1})])),(0,o.createVNode)(p),(0,o.createVNode)(u,{class:"custom q-pa-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{class:"row flex items-start text-caption text-dark"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{label:"HPP Dewasa",value:e.$currency(n.getSelectedTourPrice?.generalPrice)},null,8,["value"]),(0,o.createVNode)(h,{label:"HPP Anak (2-6 tahun)",value:e.$currency(n.getSelectedTourPrice?.generalPriceChild)},null,8,["value"]),(0,o.createVNode)(h,{label:"Diskon",value:e.$percent(n.getSelectedTourPrice?.discountPrice)},null,8,["value"]),(0,o.createVNode)(h,{label:"Cashback",value:e.$currency(n.getSelectedTourPrice?.cashbackPrice)},null,8,["value"]),(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Deskripsi Harga")])),_:1}),(0,o.createVNode)(d,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(n.getSelectedTourPrice?.description),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(p),(0,o.createVNode)(u,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(V,{ref:"form",item:n.getSelectedTourPrice},null,8,["item"])])),_:1}),(0,o.createVNode)(p),(0,o.createVNode)(u,{class:"q-pa-none"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{header:"",class:"text-title text-bold text-dark"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("DAFTAR HARGA")])),_:1}),(0,o.createVNode)(g,{bordered:"",class:"q-mx-md q-mb-md"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Subtotal Dewasa")])),_:1}),(0,o.createVNode)(d,{class:"text-h6"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(n.subTotalDewasa)),1)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Subtotal Anak (2-6 tahun)")])),_:1}),(0,o.createVNode)(d,{class:"text-h6"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(n.subTotalAnak)),1)])),_:1})])),_:1})])),_:1}),(0,o.createVNode)(m,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{caption:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("Subtotal Dijumlah (diluar hotel)")])),_:1}),(0,o.createVNode)(d,{class:"text-h6"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$currency(n.subTotalAnak+n.subTotalDewasa)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:3})}var i=a(12150);const c={class:"col-12"},d={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12"},s={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12"},u={class:"col-12"},p={class:"col-12"};function m(e,t,a,l,r,n){const i=(0,o.resolveComponent)("q-date"),m=(0,o.resolveComponent)("q-field"),h=(0,o.resolveComponent)("q-icon"),g=(0,o.resolveComponent)("q-input"),V=(0,o.resolveComponent)("q-select");return(0,o.openBlock)(),(0,o.createElementBlock)("form",{class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-12 row q-col-gutter-md",id:"FormTour",onSubmit:t[7]||(t[7]=(0,o.withModifiers)(((...e)=>n.onSubmit&&n.onSubmit(...e)),["prevent","stop"]))},[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(m,{dense:"",outlined:"","bg-color":"white",color:"primary",ref:"dateRef",modelValue:l.date_start,"onUpdate:modelValue":t[1]||(t[1]=e=>l.date_start=e),mask:"date",placeholder:"Tanggal Berangkat",hint:"Tanggal Berangkat","error-message":"Tanggal Berangkat",rules:["date"],"bottom-slots":""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{"today-btn":"",bordered:"",flat:"",class:"full-width q-my-md",options:l.optionsFn,modelValue:l.date_start,"onUpdate:modelValue":t[0]||(t[0]=e=>l.date_start=e)},null,8,["options","modelValue"])])),_:1},8,["modelValue"])]),(0,o.createElementVNode)("div",d,[l.participant_adult?((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,onClear:n.onMinParticipantRule,clearable:"",dense:"",mask:"###","unmasked-value":"","bg-color":"white",outlined:"",color:"primary",ref:"dewasaRef",modelValue:l.participant_adult,"onUpdate:modelValue":t[2]||(t[2]=e=>l.participant_adult=e),placeholder:`Peserta Dewasa (min. ${a.item?.minParticipant})`,hint:`Peserta Dewasa (min. ${a.item?.minParticipant})`,"error-message":`Peserta Dewasa (min. ${a.item?.minParticipant})`,"lazy-rules":"",rules:[e=>!!e||"",n.minParticipantRule],"bottom-slots":""},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{name:"fa-solid fa-person"})])),_:1},8,["onClear","modelValue","placeholder","hint","error-message","rules"])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",s,[(0,o.createVNode)(g,{clearable:"",dense:"",mask:"###","bg-color":"white",outlined:"",color:"primary",ref:"youngRef",modelValue:l.participant_young,"onUpdate:modelValue":t[3]||(t[3]=e=>l.participant_young=e),placeholder:"0",hint:"Peserta Anak (2-6 thn)","error-message":"Peserta Anak (2-6 thn)"},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{name:"fa-solid fa-child-reaching"})])),_:1},8,["modelValue"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(V,{class:"text-capitalize",onClear:t[4]||(t[4]=e=>l.hotel="Pilih Hotel"),clearable:"Pilih Hotel"!==l.hotel,"map-options":"","emit-value":"","option-label":"label","option-value":"value",options:e.page_hotel_level_price,dense:"","bg-color":"white",outlined:"",color:"primary",ref:"hotelRef",modelValue:l.hotel,"onUpdate:modelValue":t[5]||(t[5]=e=>l.hotel=e),placeholder:"Pilih Hotel",hint:"Pilih Hotel","error-message":"Pilih Hotel",rules:[e=>!!e&&"Pilih Hotel"!==e||""]},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{name:"apartment"})])),_:1},8,["clearable","options","modelValue","rules"])]),(0,o.createElementVNode)("div",p,[(0,o.createVNode)(g,{type:"textarea",clearable:"",dense:"","bg-color":"white",outlined:"",color:"primary",ref:"descRef",modelValue:l.description,"onUpdate:modelValue":t[6]||(t[6]=e=>l.description=e),placeholder:"Permintaan Khusus",hint:"Permintaan Khusus","error-message":"Permintaan Khusus"},{prepend:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{name:"description"})])),_:1},8,["modelValue"])])],32)}var h=a(40487),g=a(56559),V=a(36246);const{addToDate:N}=V.Ay,v=N(new Date,{days:2}),b=V.Ay.formatDate(v,"YYYY/MM/DD"),x=[{label:"Tanpa Hotel",value:"tanpa hotel"},{label:"Hotel Bintang 1",value:"bintang 1"},{label:"Hotel Bintang 2",value:"bintang 2"},{label:"Hotel Bintang 3",value:"bintang 3"},{label:"Hotel Bintang 4",value:"bintang 4"},{label:"Hotel Bintang 5",value:"bintang 5"}],f={props:["item"],data(){return{slug:"tour"}},mounted(){},setup(){const e=(0,h.q)(),{getHotelPrice:t,date_start:a,participant_young:o,participant_adult:l,description:r,hotel:n}=(0,i.bP)(e),{onAddToCart:c}=e;return{onAddToCart:c,date_start:a,participant_young:o,participant_adult:l,description:r,hotel:n,getHotelPrice:t,options:x,optionsFn(e){return e>=b}}},watch:{hotel(e){alert(e)}},computed:{...(0,i.aH)(g.P,["page_hotel_level_price"])},methods:{onMinParticipantRule(){this.participant_adult=this.item?.minParticipant},minParticipantRule(e){const t=this;return new Promise(((a,o)=>{setTimeout((()=>{const o=e>=Number(t.item?.minParticipant);o||t.onMinParticipantRule(),a(o||"(Minimal) Peserta "+t.item?.minParticipant+" (wajib)")}),0)}))},async onSubmit({price_id:e}){}}};var w=a(12807),C=a(67156),y=a(38670),_=a(39270),P=a(50492),A=a(48975),T=a(56384),k=a(94940),S=a(88672),E=a(98582),q=a.n(E);const D=(0,w.A)(f,[["render",m]]),H=D;q()(f,"components",{QField:C.A,QDate:y.A,QInput:_.A,QIcon:P.A,QPopupProxy:A.A,QBtn:T.A,QSelect:k.A}),q()(f,"directives",{ClosePopup:S.A});var R=a(7848);const B={emits:["onBubbleEvent"],components:{FormTour:H},setup(){const e=(0,h.q)(),{selected:t,vat:a,coupon:l,getSelectedTourPrice:r,calculate:n,subTotalAnak:c,subTotalDewasa:d}=(0,i.bP)(e),{min_participant:s,date_start:u,participant_young:p,participant_adult:m,hotel:g}=(0,i.bP)(e),{onAddToCart:V}=e,N=(0,R.A)(),{showMultiple:v}=N;return{selected:t,vat:a,coupon:l,getSelectedTourPrice:r,calculate:n,subTotalAnak:c,subTotalDewasa:d,onAddToCart:V,min_participant:s,date_start:u,participant_young:p,participant_adult:m,hotel:g,showMultiple:v,expanded:(0,o.ref)(!1)}},computed:{},methods:{badgeCondition(e){switch(e){case"public":return"pink";case"partner":return"positive";case"private":return"primary"}}}};var $=a(23316),Q=a(44189),I=a(25173),L=a(13796),j=a(10386),F=a(90124),G=a(53999),M=a(76031);const z=(0,w.A)(B,[["render",n]]),U=z;q()(B,"components",{QCard:$.A,QCardSection:Q.A,QItemSection:I.A,QItemLabel:L.A,QSeparator:j.A,QItem:F.A,QList:G.A,QBtnGroup:M.A,QBtn:T.A})}}]);